!function(o,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/platform-browser"),require("@ionic-native/google-maps"),require("@angular/common")):"function"==typeof define&&define.amd?define("@fivethree/google-maps",["exports","@angular/core","@angular/platform-browser","@ionic-native/google-maps","@angular/common"],e):e((o.fivethree=o.fivethree||{},o.fivethree["google-maps"]={}),o.ng.core,o.ng.platformBrowser,o.googleMaps,o.ng.common)}(this,function(o,e,t,n,r){"use strict";var a=function(){function o(){}return o.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],o.ctorParameters=function(){return[]},o.ngInjectableDef=e.defineInjectable({factory:function(){return new o},token:o,providedIn:"root"}),o}(),i=function(){function o(){}return o.prototype.ngOnInit=function(){},o.prototype.addMarker=function(o,e){},o.decorators=[{type:e.Component,args:[{selector:"fiv-google-maps",template:'\n    <fiv-google-map-web *ngIf="!isCordova" [apiKey]="apiKey"></fiv-google-map-web>\n    <fiv-google-map-native *ngIf="isCordova"></fiv-google-map-native>\n  '}]}],o.ctorParameters=function(){return[]},o.propDecorators={isCordova:[{type:e.Input}],apiKey:[{type:e.Input,args:["apiKey"]}],zoom:[{type:e.Input}]},o}(),p=function(){function o(o,e,t){this.renderer=o,this.element=e,this._document=t,this.zoom=15,this.lat=50.9576191,this.lng=6.8272408,this.markers=[],this.mapsLoaded=!1}return o.prototype.ngOnInit=function(){this.init().then(function(o){console.log("Google Maps ready.")},function(o){console.log(o)})},o.prototype.init=function(){var n=this;return new Promise(function(e,t){n.loadSDK().then(function(o){n.initMap().then(function(o){e(!0)},function(o){t(o)})},function(o){t(o)})})},o.prototype.loadSDK=function(){var o=this;return console.log("Loading Google Maps SDK"),new Promise(function(e,t){o.mapsLoaded?t("SDK already loaded"):o.injectSDK().then(function(o){e(!0)},function(o){t(o)})})},o.prototype.injectSDK=function(){var n=this;return new Promise(function(o,e){window.mapInit=function(){n.mapsLoaded=!0,o(!0)};var t=n.renderer.createElement("script");t.id="googleMaps",n.apiKey?t.src="https://maps.googleapis.com/maps/api/js?key="+n.apiKey+"&callback=mapInit":e(""),n.renderer.appendChild(n._document.body,t)})},o.prototype.initMap=function(){var t=this;return new Promise(function(o){var e={center:new google.maps.LatLng(t.lat,t.lng),zoom:t.zoom};t.map=new google.maps.Map(t.element.nativeElement,e),o(!0)})},o.prototype.addMarker=function(o,e){var t=new google.maps.LatLng(o,e),n=new google.maps.Marker({map:this.map,animation:google.maps.Animation.DROP,position:t});this.markers.push(n)},o.decorators=[{type:e.Component,args:[{selector:"fiv-google-map-web",template:"",styles:[":host{display:block;width:100%;height:100%}"]}]}],o.ctorParameters=function(){return[{type:e.Renderer2},{type:e.ElementRef},{type:undefined,decorators:[{type:e.Inject,args:[t.DOCUMENT]}]}]},o.propDecorators={apiKey:[{type:e.Input,args:["apiKey"]}],zoom:[{type:e.Input}],mapOptions:[{type:e.Input}]},o}(),s=function(){function o(){this.zoom=15,this.marker=[]}return o.prototype.ngOnInit=function(){console.log("GoogleMapNativeComponent ng on init"),this.loadMap()},o.prototype.loadMap=function(){console.log("loading Map"),this.map=n.GoogleMaps.create("map",{controls:{myLocation:!0,myLocationButton:!1,mapToolbar:!1,compass:!0}}),this.map.one(n.GoogleMapsEvent.MAP_READY).then(function(){return console.log("map is ready")}),console.log("loaded Map")},o.prototype.addMarker=function(o,e){},o.decorators=[{type:e.Component,args:[{selector:"fiv-google-map-native",template:'<div id="map"></div>',styles:[":host #map{height:100%;width:100%}"]}]}],o.ctorParameters=function(){return[]},o.propDecorators={zoom:[{type:e.Input}],mapOptions:[{type:e.Input}]},o}(),c=function(){function o(){}return o.decorators=[{type:e.NgModule,args:[{imports:[r.CommonModule],declarations:[i,p,s],exports:[i,p,s]}]}],o}();o.GoogleMapsService=a,o.GoogleMapsComponent=i,o.GoogleMapsModule=c,o.ɵb=s,o.ɵa=p,Object.defineProperty(o,"__esModule",{value:!0})});
//# sourceMappingURL=fivethree-google-maps.umd.min.js.map