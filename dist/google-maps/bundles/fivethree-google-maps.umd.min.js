!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("@angular/core"),require("@angular/platform-browser"),require("@ionic-native/google-maps"),require("@angular/common")):"function"==typeof define&&define.amd?define("@fivethree/google-maps",["exports","@angular/core","@angular/platform-browser","@ionic-native/google-maps","@angular/common"],o):o((e.fivethree=e.fivethree||{},e.fivethree["google-maps"]={}),e.ng.core,e.ng.platformBrowser,e.googleMaps,e.ng.common)}(this,function(e,o,t,n,r){"use strict";var a=function(){function e(){}return e.decorators=[{type:o.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=o.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),i=function(){function e(){}return e.prototype.ngOnInit=function(){},e.prototype.addMarker=function(e,o){},e.decorators=[{type:o.Component,args:[{selector:"fiv-google-maps",template:'\n    <fiv-google-map-web *ngIf="!isCordova" [apiKey]="apiKey"></fiv-google-map-web>\n    <fiv-google-map-native *ngIf="isCordova"></fiv-google-map-native>\n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={isCordova:[{type:o.Input}],apiKey:[{type:o.Input,args:["apiKey"]}],zoom:[{type:o.Input}]},e}(),p=function(){function e(e,o,t){this.renderer=e,this.element=o,this._document=t,this.zoom=15,this.lat=50.9576191,this.lng=6.8272408,this.markers=[],this.mapsLoaded=!1}return e.prototype.ngOnInit=function(){this.init().then(function(e){console.log("Google Maps ready.")},function(e){console.log(e)})},e.prototype.init=function(){var n=this;return new Promise(function(o,t){n.loadSDK().then(function(e){n.initMap().then(function(e){o(!0)},function(e){t(e)})},function(e){t(e)})})},e.prototype.loadSDK=function(){var e=this;return console.log("Loading Google Maps SDK"),new Promise(function(o,t){e.mapsLoaded?t("SDK already loaded"):e.injectSDK().then(function(e){o(!0)},function(e){t(e)})})},e.prototype.injectSDK=function(){var n=this;return new Promise(function(e,o){window.mapInit=function(){n.mapsLoaded=!0,e(!0)};var t=n.renderer.createElement("script");t.id="googleMaps",n.apiKey?t.src="https://maps.googleapis.com/maps/api/js?key="+n.apiKey+"&callback=mapInit":o(""),n.renderer.appendChild(n._document.body,t)})},e.prototype.initMap=function(){var t=this;return new Promise(function(e){var o={center:new google.maps.LatLng(t.lat,t.lng),zoom:t.zoom};t.map=new google.maps.Map(t.element.nativeElement,o),e(!0)})},e.prototype.addMarker=function(e,o){var t=new google.maps.LatLng(e,o),n=new google.maps.Marker({map:this.map,animation:google.maps.Animation.DROP,position:t});this.markers.push(n)},e.decorators=[{type:o.Component,args:[{selector:"fiv-google-map-web",template:"",styles:[":host{display:block;width:100%;height:100%}"]}]}],e.ctorParameters=function(){return[{type:o.Renderer2},{type:o.ElementRef},{type:undefined,decorators:[{type:o.Inject,args:[t.DOCUMENT]}]}]},e.propDecorators={apiKey:[{type:o.Input,args:["apiKey"]}],zoom:[{type:o.Input}],mapOptions:[{type:o.Input}]},e}();function c(n,r){var a,i,p,e,c={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return e={next:o(0),"throw":o(1),"return":o(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function o(o){return function(e){return function t(e){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,i&&(p=2&e[0]?i["return"]:e[0]?i["throw"]||((p=i["return"])&&p.call(i),0):i.next)&&!(p=p.call(i,e[1])).done)return p;switch(i=0,p&&(e=[2&e[0],p.value]),e[0]){case 0:case 1:p=e;break;case 4:return c.label++,{value:e[1],done:!1};case 5:c.label++,i=e[1],e=[0];continue;case 7:e=c.ops.pop(),c.trys.pop();continue;default:if(!(p=0<(p=c.trys).length&&p[p.length-1])&&(6===e[0]||2===e[0])){c=0;continue}if(3===e[0]&&(!p||e[1]>p[0]&&e[1]<p[3])){c.label=e[1];break}if(6===e[0]&&c.label<p[1]){c.label=p[1],p=e;break}if(p&&c.label<p[2]){c.label=p[2],c.ops.push(e);break}p[2]&&c.ops.pop(),c.trys.pop();continue}e=r.call(n,c)}catch(o){e=[6,o],i=0}finally{a=p=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([o,e])}}}var s=function(){function e(){this.zoom=14,this.marker=[]}return e.prototype.ngOnInit=function(){console.log("GoogleMapNativeComponent ng on init"),this.loadMap()},e.prototype.loadMap=function(){var e=this;console.log("loading Map"),this.map=n.GoogleMaps.create("map",{controls:{myLocation:!0,myLocationButton:!1,mapToolbar:!1,compass:!0}}),this.map.one(n.GoogleMapsEvent.MAP_READY).then(function(){return e.zoomToMyLocation()})},e.prototype.zoomToMyLocation=function(){return function e(o,i,p,c){return new(p||(p=Promise))(function(e,t){function n(e){try{a(c.next(e))}catch(o){t(o)}}function r(e){try{a(c["throw"](e))}catch(o){t(o)}}function a(o){o.done?e(o.value):new p(function(e){e(o.value)}).then(n,r)}a((c=c.apply(o,i||[])).next())})}(this,void 0,void 0,function(){var o;return c(this,function(e){switch(e.label){case 0:return[4,this.map.getMyLocation({enableHighAccuracy:!0})];case 1:return o=e.sent(),this.moveCenterTo(o.latLng),[2]}})})},e.prototype.moveCenterTo=function(e){this.map.animateCamera({zoom:this.zoom,target:e,duration:350})},e.prototype.addMarker=function(e,o){},e.decorators=[{type:o.Component,args:[{selector:"fiv-google-map-native",template:'<div id="map"></div>',styles:[":host #map{height:100%;width:100%}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={zoom:[{type:o.Input}],mapOptions:[{type:o.Input}]},e}(),u=function(){function e(){}return e.decorators=[{type:o.NgModule,args:[{imports:[r.CommonModule],declarations:[i,p,s],exports:[i,p,s]}]}],e}();e.GoogleMapsService=a,e.GoogleMapsComponent=i,e.GoogleMapsModule=u,e.ɵb=s,e.ɵa=p,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=fivethree-google-maps.umd.min.js.map