{"version":3,"sources":["ng://@fivethree/google-maps/lib/google-maps.service.ts","ng://@fivethree/google-maps/lib/google-maps.component.ts","ng://@fivethree/google-maps/lib/web/google-map-web.ts","ng://@fivethree/google-maps/lib/native/google-map-native.ts","ng://@fivethree/google-maps/lib/google-maps.module.ts"],"names":["GoogleMapsService","Injectable","args","providedIn","GoogleMapsComponent","prototype","ngOnInit","addMarker","lat","lng","Component","selector","template","Input","GoogleMapWebComponent","renderer","element","_document","this","init","then","res","console","log","err","Promise","resolve","reject","_this","loadSDK","initMap","mapsLoaded","injectSDK","window","script","createElement","id","apiKey","src","appendChild","body","mapOptions","center","google","maps","LatLng","zoom","map","Map","nativeElement","latLng","marker","Marker","animation","Animation","DROP","position","markers","push","Renderer2","ElementRef","Inject","DOCUMENT","GoogleMapNativeComponent","loadMap","GoogleMaps","create","controls","myLocation","myLocationButton","mapToolbar","compass","one","GoogleMapsEvent","MAP_READY","GoogleMapsModule","NgModule","imports","CommonModule","declarations","exports"],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GoogleMapsService {\n\n  constructor() { }\n}\n","import { IGoogleMap } from './google-map';\nimport { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'fiv-google-maps',\n  template: `\n    <fiv-google-map-web *ngIf=\"!isCordova\" [apiKey]=\"apiKey\"></fiv-google-map-web>\n    <fiv-google-map-native *ngIf=\"isCordova\"></fiv-google-map-native>\n  `,\n  styles: []\n})\nexport class GoogleMapsComponent implements OnInit, IGoogleMap {\n\n  @Input() isCordova: boolean;\n  @Input('apiKey') apiKey: string;\n  @Input() zoom: number;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  addMarker(lat: number, lng: number) {\n  }\n\n}\n","import { IGoogleMap } from './../google-map';\nimport { Component, OnInit, ElementRef, Renderer2, Inject, Input, Output, EventEmitter } from '@angular/core';\nimport { DOCUMENT } from '@angular/platform-browser';\nimport { } from '@types/googlemaps';\n\n@Component({\n    selector: 'fiv-google-map-web',\n    template: ``,\n    styleUrls: ['google-map-web.scss'],\n})\nexport class GoogleMapWebComponent implements OnInit, IGoogleMap {\n\n    @Input('apiKey') apiKey: string;\n    @Input() zoom: number = 15;\n    @Input() mapOptions: google.maps.MapOptions; // TODO enable mapoptions\n\n    public lat: number = 50.9576191;\n    public lng: number = 6.8272408;\n    public map: google.maps.Map;\n    public markers: google.maps.Marker[] = [];\n    private mapsLoaded: boolean = false;\n\n    constructor(private renderer: Renderer2,\n        private element: ElementRef,\n        @Inject(DOCUMENT) private _document) {\n    }\n\n    ngOnInit() {\n        this.init().then((res) => {\n            console.log(\"Google Maps ready.\")\n        }, (err) => {\n            console.log(err);\n        });\n    }\n\n    private init(): Promise<any> {\n\n        return new Promise((resolve, reject) => {\n\n            this.loadSDK().then((res) => {\n\n                this.initMap().then((res) => {\n                    resolve(true);\n                }, (err) => {\n                    reject(err);\n                });\n\n            }, (err) => {\n\n                reject(err);\n\n            });\n\n        });\n\n    }\n\n    private loadSDK(): Promise<any> {\n        console.log(\"Loading Google Maps SDK\");\n        return new Promise((resolve, reject) => {\n            if (!this.mapsLoaded) {\n                this.injectSDK().then((res) => {\n                    resolve(true);\n                }, (err) => {\n                    reject(err);\n                });\n            } else {\n                reject('SDK already loaded');\n            }\n\n        });\n\n\n    }\n\n    private injectSDK(): Promise<any> {\n        return new Promise((resolve, reject) => {\n            window['mapInit'] = () => {\n                this.mapsLoaded = true;\n                resolve(true);\n            }\n\n            let script = this.renderer.createElement('script');\n            script.id = 'googleMaps';\n\n            if (this.apiKey) {\n                script.src = 'https://maps.googleapis.com/maps/api/js?key=' + this.apiKey + '&callback=mapInit';\n            } else {\n                reject('')\n            }\n\n            this.renderer.appendChild(this._document.body, script);\n        });\n    }\n\n    private initMap(): Promise<any> {\n        return new Promise((resolve) => {\n            let latLng = new google.maps.LatLng(this.lat, this.lng);\n            let mapOptions = {\n                center: latLng,\n                zoom: this.zoom\n            };\n\n            this.map = new google.maps.Map(this.element.nativeElement, mapOptions);\n            resolve(true);\n        });\n    }\n\n    public addMarker(lat: number, lng: number): void {\n        let latLng = new google.maps.LatLng(lat, lng);\n        let marker = new google.maps.Marker({\n            map: this.map,\n            animation: google.maps.Animation.DROP,\n            position: latLng\n        });\n        this.markers.push(marker);\n    }\n}\n","import { IGoogleMap } from './../google-map';\nimport { Component, OnInit, Input } from '@angular/core';\nimport {\n    GoogleMap, GoogleMaps, GoogleMapOptions, GoogleMapsEvent, HtmlInfoWindow, LatLng, Marker,\n    MyLocation\n} from '@ionic-native/google-maps';\n\n@Component({\n    selector: 'fiv-google-map-native',\n    template: `<div id=\"map\"></div>`,\n    styleUrls: ['google-map-native.scss'],\n})\nexport class GoogleMapNativeComponent implements OnInit, IGoogleMap {\n\n    @Input() zoom: number = 15;\n    @Input() mapOptions: GoogleMapOptions;\n\n    public map: GoogleMap;\n    public marker: Marker[] = [];\n\n    constructor() { }\n\n    ngOnInit() {\n        console.log('GoogleMapNativeComponent ng on init');\n        this.loadMap();\n    }\n\n    loadMap(): any {\n        console.log(\"loading Map\");\n\n        this.map = GoogleMaps.create('map', {\n            controls: {\n                myLocation: true,\n                myLocationButton: false,\n                mapToolbar: false,\n                compass: true,\n            }\n        });\n\n        this.map.one(GoogleMapsEvent.MAP_READY).then(() => console.log(\"map is ready\"));\n\n        console.log(\"loaded Map\");\n\n        // this.map.getMyLocation({ enableHighAccuracy: true }).then((location: MyLocation) => {\n        //     this.map.animateCamera({ zoom: this.zoom, target: location.latLng, duration: 350 });\n        // });\n    }\n\n    addMarker(lat: number, lng: number) {\n    }\n}","import { CommonModule } from '@angular/common';\nimport { GoogleMapWebComponent } from './web/google-map-web';\nimport { NgModule } from '@angular/core';\nimport { GoogleMapsComponent } from './google-maps.component';\nimport { GoogleMapNativeComponent } from './native/google-map-native';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [GoogleMapsComponent, GoogleMapWebComponent, GoogleMapNativeComponent],\n  exports: [GoogleMapsComponent, GoogleMapWebComponent, GoogleMapNativeComponent]\n})\nexport class GoogleMapsModule { }\n"]}