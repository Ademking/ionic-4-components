{"version":3,"file":"fivethree-google-maps.umd.js.map","sources":["ng://@fivethree/google-maps/lib/google-maps.service.ts","ng://@fivethree/google-maps/lib/google-maps.component.ts","ng://@fivethree/google-maps/lib/web/google-map-web.ts","ng://@fivethree/google-maps/lib/native/google-map-native.ts","ng://@fivethree/google-maps/lib/google-maps.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GoogleMapsService {\n\n  constructor() { }\n}\n","import { IGoogleMap } from './google-map';\nimport { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'fiv-google-maps',\n  template: `\n    <fiv-google-map-web *ngIf=\"!isCordova\" [apiKey]=\"apiKey\"></fiv-google-map-web>\n    <fiv-google-map-native *ngIf=\"isCordova\"></fiv-google-map-native>\n  `,\n  styles: []\n})\nexport class GoogleMapsComponent implements OnInit, IGoogleMap {\n\n  @Input() isCordova: boolean;\n  @Input('apiKey') apiKey: string;\n  @Input() zoom: number;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  addMarker(lat: number, lng: number) {\n  }\n\n}\n","import { IGoogleMap } from './../google-map';\nimport { Component, OnInit, ElementRef, Renderer2, Inject, Input, Output, EventEmitter } from '@angular/core';\nimport { DOCUMENT } from '@angular/platform-browser';\nimport { } from '@types/googlemaps';\n\n@Component({\n    selector: 'fiv-google-map-web',\n    template: ``,\n    styleUrls: ['google-map-web.scss'],\n})\nexport class GoogleMapWebComponent implements OnInit, IGoogleMap {\n\n    @Input('apiKey') apiKey: string;\n    @Input() zoom: number = 15;\n    @Input() mapOptions: google.maps.MapOptions; // TODO enable mapoptions\n\n    public lat: number = 50.9576191;\n    public lng: number = 6.8272408;\n    public map: google.maps.Map;\n    public markers: google.maps.Marker[] = [];\n    private mapsLoaded: boolean = false;\n\n    constructor(private renderer: Renderer2,\n        private element: ElementRef,\n        @Inject(DOCUMENT) private _document) {\n    }\n\n    ngOnInit() {\n        this.init().then((res) => {\n            console.log(\"Google Maps ready.\")\n        }, (err) => {\n            console.log(err);\n        });\n    }\n\n    private init(): Promise<any> {\n\n        return new Promise((resolve, reject) => {\n\n            this.loadSDK().then((res) => {\n\n                this.initMap().then((res) => {\n                    resolve(true);\n                }, (err) => {\n                    reject(err);\n                });\n\n            }, (err) => {\n\n                reject(err);\n\n            });\n\n        });\n\n    }\n\n    private loadSDK(): Promise<any> {\n        console.log(\"Loading Google Maps SDK\");\n        return new Promise((resolve, reject) => {\n            if (!this.mapsLoaded) {\n                this.injectSDK().then((res) => {\n                    resolve(true);\n                }, (err) => {\n                    reject(err);\n                });\n            } else {\n                reject('SDK already loaded');\n            }\n\n        });\n\n\n    }\n\n    private injectSDK(): Promise<any> {\n        return new Promise((resolve, reject) => {\n            window['mapInit'] = () => {\n                this.mapsLoaded = true;\n                resolve(true);\n            }\n\n            let script = this.renderer.createElement('script');\n            script.id = 'googleMaps';\n\n            if (this.apiKey) {\n                script.src = 'https://maps.googleapis.com/maps/api/js?key=' + this.apiKey + '&callback=mapInit';\n            } else {\n                reject('')\n            }\n\n            this.renderer.appendChild(this._document.body, script);\n        });\n    }\n\n    private initMap(): Promise<any> {\n        return new Promise((resolve) => {\n            let latLng = new google.maps.LatLng(this.lat, this.lng);\n            let mapOptions = {\n                center: latLng,\n                zoom: this.zoom\n            };\n\n            this.map = new google.maps.Map(this.element.nativeElement, mapOptions);\n            resolve(true);\n        });\n    }\n\n    public addMarker(lat: number, lng: number): void {\n        let latLng = new google.maps.LatLng(lat, lng);\n        let marker = new google.maps.Marker({\n            map: this.map,\n            animation: google.maps.Animation.DROP,\n            position: latLng\n        });\n        this.markers.push(marker);\n    }\n}\n","import { IGoogleMap } from './../google-map';\nimport { Component, OnInit, Input } from '@angular/core';\nimport {\n    GoogleMap, GoogleMaps, GoogleMapOptions, GoogleMapsEvent, HtmlInfoWindow, LatLng, Marker,\n    MyLocation\n} from '@ionic-native/google-maps';\n\n@Component({\n    selector: 'fiv-google-map-native',\n    template: `<div id=\"map\"></div>`,\n    styleUrls: ['google-map-native.scss'],\n})\nexport class GoogleMapNativeComponent implements OnInit, IGoogleMap {\n\n    @Input() zoom: number = 15;\n    @Input() mapOptions: GoogleMapOptions;\n\n    public map: GoogleMap;\n    public marker: Marker[] = [];\n\n    constructor() { }\n\n    ngOnInit() {\n        console.log('GoogleMapNativeComponent ng on init');\n        this.loadMap();\n    }\n\n    loadMap(): any {\n        console.log(\"loading Map\");\n\n        this.map = GoogleMaps.create('map', {\n            controls: {\n                myLocation: true,\n                myLocationButton: false,\n                mapToolbar: false,\n                compass: true,\n            }\n        });\n\n        this.map.one(GoogleMapsEvent.MAP_READY).then(() => console.log(\"map is ready\"));\n\n        console.log(\"loaded Map\");\n\n        // this.map.getMyLocation({ enableHighAccuracy: true }).then((location: MyLocation) => {\n        //     this.map.animateCamera({ zoom: this.zoom, target: location.latLng, duration: 350 });\n        // });\n    }\n\n    addMarker(lat: number, lng: number) {\n    }\n}","import { CommonModule } from '@angular/common';\nimport { GoogleMapWebComponent } from './web/google-map-web';\nimport { NgModule } from '@angular/core';\nimport { GoogleMapsComponent } from './google-maps.component';\nimport { GoogleMapNativeComponent } from './native/google-map-native';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [GoogleMapsComponent, GoogleMapWebComponent, GoogleMapNativeComponent],\n  exports: [GoogleMapsComponent, GoogleMapWebComponent, GoogleMapNativeComponent]\n})\nexport class GoogleMapsModule { }\n"],"names":["Injectable","Component","Input","Renderer2","ElementRef","Inject","DOCUMENT","GoogleMaps","GoogleMapsEvent","NgModule","CommonModule"],"mappings":"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"}
