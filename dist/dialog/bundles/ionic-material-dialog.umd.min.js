!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/animations"),require("hammerjs"),require("rxjs"),require("rxjs/operators"),require("@ionic/angular"),require("@angular/common"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define("ionic-material-dialog",["exports","@angular/core","@angular/animations","hammerjs","rxjs","rxjs/operators","@ionic/angular","@angular/common","@angular/platform-browser"],e):e(t["ionic-material-dialog"]={},t.ng.core,t.ng.animations,null,t.rxjs,t.rxjs.operators,null,t.ng.common,t.ng.platformBrowser)}(this,function(t,e,n,o,s,d,i,r,a){"use strict";var p="default"in o?o["default"]:o,l=function(){function t(){}return t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[]},t.ngInjectableDef=e.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),c=function(){function t(t,e){this.renderer=t,this.change=e,this.animationState="hidden",this.animation="slideIn",this.verticalAlign="bottom",this.floating=!1,this.backdrop=!1,this.fullscreen=!1,this.rounded=!1,this.backdropClose=!0,this.swipeEnabled=!0,this.panSubs=[]}return t.prototype.setupPan=function(t,e){var n=this;if(this.swipeEnabled){var o=new p(t);o.get("pan").set({direction:p.DIRECTION_ALL});var i=s.fromEvent(o,"panup").pipe(d.throttleTime(2)).subscribe(function(t){console.log("panup",t),n.onSwipeUp(t,e)}),r=s.fromEvent(o,"pandown").pipe(d.throttleTime(2)).subscribe(function(t){console.log("pandown sub",t),n.onSwipeDown(t,e)}),a=s.fromEvent(o,"panend pancancel").subscribe(function(t){t.distance<e&&n.renderer.setStyle(n.card.nativeElement,"transform","translateY(0px)")});this.panSubs.push(r,i,a)}},t.prototype.ngOnInit=function(){console.log(this.card)},t.prototype.showDialog=function(){this.animationState=this.animation+"-"+this.verticalAlign},t.prototype.hideDialog=function(){this.animationState="hidden",this.panSubs.forEach(function(t){t.unsubscribe()})},t.prototype.isFloating=function(){return this.floating||this.rounded&&"center"===this.verticalAlign},t.prototype.roundedTop=function(){return this.rounded&&"top"===this.verticalAlign&&!this.floating},t.prototype.roundedBottom=function(){return this.rounded&&"bottom"===this.verticalAlign&&!this.floating},t.prototype.onSwipeUp=function(t,e){console.log(Math.exp(t.distance/50));var n=1+Math.exp(t.distance/50)/50;"top"===this.verticalAlign&&(this.renderer.setStyle(this.card.nativeElement,"transform","translateY(-"+t.distance*n+"px)"),t.distance>e&&(console.log("swipe down happened"),this.hideDialog()))},t.prototype.onSwipeDown=function(t,e){var n=1+Math.exp(t.distance/50)/50;console.log(n),"bottom"!==this.verticalAlign&&"center"!==this.verticalAlign||(this.renderer.setStyle(this.card.nativeElement,"transform","translateY("+t.distance*n+"px)"),t.distance>e&&(console.log("swipe down happened"),this.hideDialog()))},t.prototype.onDialogAnimationDone=function(t){"hidden"===t.toState&&this.renderer.setStyle(this.card.nativeElement,"transform","translateY(0px)"),"hidden"===t.fromState&&this.setupPan(this.card.nativeElement,58)},t.prototype.backdropAnimDone=function(t){console.log(this.backdropElem,t),"void"===t.fromState&&(console.log(this.backdropElem.nativeElement),this.setupPan(this.backdropElem.nativeElement,112))},t.decorators=[{type:e.Component,args:[{selector:"gg-dialog",template:'\n  <div #backdrop class="gg-backdrop" [@backdropAnim] (@backdropAnim.done)="backdropAnimDone($event)" (click)="backdropClose? hideDialog() : false" *ngIf="animationState !== \'hidden\' && backdrop">\n  </div>\n  <ion-card #card [@dialogAnim]="animationState" (@dialogAnim.done)="onDialogAnimationDone($event)" mode="md" class="gg-dialog" [ngClass]="{\'floating\': isFloating(),\'fullscreen\':fullscreen,\'rounded-top\': roundedTop(),\'rounded-bottom\':roundedBottom()}">\n  <ng-content></ng-content>\n  </ion-card>\n  ',styles:[".gg-dialog{position:absolute;z-index:5002;background:#fff;margin:0;border-radius:0;width:100%}.top{top:0}.bottom{bottom:0}.floating{margin:16px 20px;border-radius:8px;width:calc(100% - 40px);box-shadow:0 4px 16px rgba(0,0,0,.12)}.fullscreen{margin:0;border-radius:0;width:100%;height:100%;box-shadow:0 4px 16px rgba(0,0,0,.12)}.rounded-top{border-bottom-left-radius:12px;border-bottom-right-radius:12px}.rounded-bottom{border-top-left-radius:12px;border-top-right-radius:12px}.gg-backdrop{background:rgba(0,0,0,.22);position:absolute;top:0;bottom:0;left:0;right:0;z-index:5001}"],animations:[n.trigger("dialogAnim",[n.transition("hidden => slideIn-top",[n.style({transform:"translateY(-100%)"}),n.animate("275ms 100ms cubic-bezier(0.32,1,0.23,1)")]),n.transition("hidden => slideIn-bottom",[n.style({transform:"translateY(100%)"}),n.animate("275ms 100ms cubic-bezier(0.32,1,0.23,1)")]),n.transition("hidden => fadeIn-bottom",[n.style({opacity:0}),n.animate("360ms ease-out")]),n.transition("hidden => fadeIn-top",[n.style({opacity:0}),n.animate("360ms ease-out")]),n.transition("hidden => fadeIn-center",[n.style({opacity:0,top:"50%",transform:"translateY(-50%)"}),n.animate("360ms ease-out")]),n.transition("hidden => slideIn-center",[n.style({top:"50%",transform:"translateY(-25%)",opacity:0}),n.animate("275ms 100ms cubic-bezier(0.32,1,0.23,1)")]),n.transition("slideIn-center => hidden",[n.animate("120ms ease-out",n.style({opacity:0}))]),n.transition("* => hidden",[n.animate("240ms ease-out")]),n.state("hidden",n.style({display:"none",opacity:"0"})),n.state("slideIn-top",n.style({top:0})),n.state("slideIn-bottom",n.style({bottom:0})),n.state("fadeIn-top",n.style({top:0})),n.state("fadeIn-bottom",n.style({bottom:0})),n.state("fadeIn-center",n.style({top:"50%",transform:"translateY(-50%)","margin-top":0})),n.state("slideIn-center",n.style({top:"50%",transform:"translateY(-50%)","margin-top":0}))]),n.trigger("backdropAnim",[n.transition("void => *",[n.style({opacity:0}),n.animate("275ms 100ms cubic-bezier(0.32,1,0.23,1)")]),n.transition("* => void",[n.animate("120ms 100ms cubic-bezier(0.32,1,0.23,1)"),n.style({opacity:0})])])]}]}],t.ctorParameters=function(){return[{type:e.Renderer2},{type:e.ChangeDetectorRef}]},t.propDecorators={animation:[{type:e.Input}],verticalAlign:[{type:e.Input}],floating:[{type:e.Input}],backdrop:[{type:e.Input}],fullscreen:[{type:e.Input}],rounded:[{type:e.Input}],backdropClose:[{type:e.Input}],swipeEnabled:[{type:e.Input}],card:[{type:e.ViewChild,args:["card"]}],backdropElem:[{type:e.ViewChild,args:["backdrop"]}]},t}(),u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.overrides={pan:{direction:o.Hammer.DIRECTION_VERTICAL,threshold:3}},t}return function n(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,e),t}(a.HammerGestureConfig),g=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[i.IonicModule,r.CommonModule],declarations:[c],exports:[c],providers:[{provide:a.HAMMER_GESTURE_CONFIG,useClass:m}]}]}],t}();t.DialogService=l,t.DialogComponent=c,t.MyHammerConfig=m,t.DialogModule=g,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ionic-material-dialog.umd.min.js.map